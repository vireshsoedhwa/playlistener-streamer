version: '3.8'

services:


# ====== these are the players for the different genres

  mpd_default:
    command: mpd --no-daemon --verbose
    # command: tail -f /dev/null
    image: mpd
    build:
      context: mpd
    volumes:
      - ./data:/code/data
    environment:
      - GENRE=default
      - PORT=9000
    ports:
      - "9000:9000"

# ====== below is for controlling the players

  mpc:
    image: mpc
    build:
      context: mpc
    environment:
      - MPD_HOST=mpd_default
      - MPD_PORT=6600
    depends_on:
      - mpd_default
